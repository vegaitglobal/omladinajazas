/*
 Accordion Slider - v2.8
 Homepage: http://bqworks.com/accordion-slider/
 Author: bqworks
 Author URL: http://bqworks.com/
*/
(function(g,d){d.AccordionSlider={modules:{},addModule:function(a,f,c){"undefined"===typeof this.modules[c]&&(this.modules[c]=[]);this.modules[c].push(a);"accordion"===c?d.extend(b.prototype,f):"panel"===c&&d.extend(k.prototype,f)}};var e=d.AccordionSlider.namespace="AccordionSlider",b=function(a,f){this.$accordion=d(a);this.$maskContainer=this.$panelsContainer=null;this.options=f;this.settings={};this.originalSettings={};this.currentIndex=-1;this.computedPanelDistance=this.closedPanelSize=this.collapsedPanelSize=
this.maxComputedOpenedPanelSize=this.computedOpenedPanelSize=this.totalPanelsSize=this.totalSize=this.currentPage=0;this.panels=[];this.mouseDelayTimer=0;this.openPanelAnimation={};this.closePanelsAnimation={};this.uniqueId=(new Date).valueOf();this.breakpoints=[];this.previousVisiblePanels=this.currentBreakpoint=-1;this.isPageScrolling=!1;this.positionProperty="left";this.sizeProperty="width";this.autoResponsiveRatio=1;this.isOverlapping=!1;this._init()};b.prototype={_init:function(){var a=this;
this.$accordion.removeClass("as-no-js");this.$maskContainer=d('<div class="as-mask"></div>').appendTo(this.$accordion);this.$panelsContainer=this.$accordion.find(".as-panels").appendTo(this.$maskContainer);0===this.$panelsContainer.length&&(this.$panelsContainer=d('<div class="as-panels"></div>').appendTo(this.$maskContainer));var f=d.AccordionSlider.modules.accordion;if("undefined"!==typeof f)for(var c=0;c<f.length;c++){var b=f[c]+"Defaults";"undefined"!==typeof this[b]?d.extend(this.defaults,this[b]):
(b=f[c].substring(0,1).toLowerCase()+f[c].substring(1)+"Defaults","undefined"!==typeof this[b]&&d.extend(this.defaults,this[b]))}this.settings=d.extend({},this.defaults,this.options);if("undefined"!==typeof f)for(c=0;c<f.length;c++)if("undefined"!==typeof this["init"+f[c]])this["init"+f[c]]();this.originalSettings=d.extend({},this.settings);!0===this.settings.shuffle&&(f=this.$panelsContainer.find(".as-panel").sort(function(){return.5-Math.random()}),this.$panelsContainer.empty().append(f));this.currentIndex=
this.settings.startPanel;-1===this.currentIndex?this.$accordion.addClass("as-closed"):this.$accordion.addClass("as-opened");-1!==this.settings.startPage&&(this.currentPage=this.settings.startPage);if(null!==this.settings.breakpoints){for(var p in this.settings.breakpoints)this.breakpoints.push({size:parseInt(p,10),properties:this.settings.breakpoints[p]});this.breakpoints=this.breakpoints.sort(function(a,c){return a.size>=c.size?1:-1})}this._prepareRAF();this.update();-1!==this.currentIndex&&(this.$accordion.find(".as-panel").eq(this.currentIndex).addClass("as-opened"),
p={type:"panelOpen",index:this.currentIndex,previousIndex:-1},this.trigger(p),d.isFunction(this.settings.panelOpen)&&this.settings.panelOpen.call(this,p));this.on("mouseenter."+e,function(c){c={type:"accordionMouseOver"};a.trigger(c);d.isFunction(a.settings.accordionMouseOver)&&a.settings.accordionMouseOver.call(a,c)});this.on("mouseleave."+e,function(c){clearTimeout(a.mouseDelayTimer);!0===a.settings.closePanelsOnMouseOut&&a.closePanels();c={type:"accordionMouseOut"};a.trigger(c);d.isFunction(a.settings.accordionMouseOut)&&
a.settings.accordionMouseOut.call(a,c)});d(g).on("resize."+this.uniqueId+"."+e,function(){a.resize()});this.trigger({type:"init"});d.isFunction(this.settings.init)&&this.settings.init.call(this,{type:"init"})},update:function(){"horizontal"===this.settings.orientation?(this.$accordion.removeClass("as-vertical").addClass("as-horizontal"),this.positionProperty="left",this.sizeProperty="width"):"vertical"===this.settings.orientation&&(this.$accordion.removeClass("as-horizontal").addClass("as-vertical"),
this.positionProperty="top",this.sizeProperty="height");if(-1===this.settings.visiblePanels)this.currentPage=0;else if(-1!==this.currentIndex)this.currentPage=Math.floor(this.currentIndex/this.settings.visiblePanels);else if(this.settings.visiblePanels!==this.previousVisiblePanels&&-1!==this.previousVisiblePanels){var a=Math.round(this.currentPage*this.previousVisiblePanels/this.settings.visiblePanels);this.currentPage!==a&&(this.currentPage=a)}0<this.settings.panelDistance||!1===this.settings.panelOverlap?
(this.isOverlapping=!1,this.$accordion.removeClass("as-overlap")):!0===this.settings.panelOverlap&&(this.isOverlapping=!0,this.$accordion.addClass("as-overlap"));this.$accordion.find("img.as-background, img.as-background-opened").css({width:"",height:""});this._updatePanels();this._updatePaginationButtons();!0===this.settings.shadow?this.$accordion.find(".as-panel").addClass("as-shadow"):!1===this.settings.shadow&&this.$accordion.find(".as-shadow").removeClass("as-shadow");this.$panelsContainer.attr("style",
"");this.resize();a={type:"update"};this.trigger(a);d.isFunction(this.settings.update)&&this.settings.update.call(this,a)},_updatePanels:function(){for(var a=this,f=this.panels.length-1;0<=f;f--)if(0===this.$accordion.find('.as-panel[data-index="'+f+'"]').length){var c=this.panels[f];c.off("panelMouseOver."+e);c.off("panelMouseOut."+e);c.off("panelClick."+e);c.off("imagesComplete."+e);c.destroy();this.panels.splice(f,1)}this.$accordion.find(".as-panel").each(function(c,f){var b=d(f);"undefined"===
typeof b.attr("data-init")?a._createPanel(c,b):(a.panels[c].setIndex(c),a.panels[c].update())})},_createPanel:function(a,f){var c=this,b=d(f);b=new k(b,this,a);this.panels.splice(a,0,b);b.on("panelMouseOver."+e,function(f){if(!0!==c.isPageScrolling){"hover"===c.settings.openPanelOn&&(clearTimeout(c.mouseDelayTimer),c.mouseDelayTimer=setTimeout(function(){c.openPanel(f.index)},c.settings.mouseDelay));var b={type:"panelMouseOver",index:a};c.trigger(b);d.isFunction(c.settings.panelMouseOver)&&c.settings.panelMouseOver.call(c,
b)}});b.on("panelMouseOut."+e,function(b){!0!==c.isPageScrolling&&(b={type:"panelMouseOut",index:a},c.trigger(b),d.isFunction(c.settings.panelMouseOut)&&c.settings.panelMouseOut.call(c,b))});b.on("panelClick."+e,function(b){c.$accordion.hasClass("as-swiping")||("click"===c.settings.openPanelOn&&(a!==c.currentIndex?c.openPanel(b.index):c.closePanels()),b={type:"panelClick",index:a},c.trigger(b),d.isFunction(c.settings.panelClick)&&c.settings.panelClick.call(c,b))});b.on("panelMouseDown."+e,function(b){d(this).find("a").off("click.disablePanelLink");
if(a!==c.currentIndex&&"click"===c.settings.openPanelOn)d(this).find("a").one("click.disablePanelLink",function(a){a.preventDefault()})});b.on("imagesComplete."+e,function(a){a.index===c.currentIndex&&a.contentSize!==c.computedOpenedPanelSize&&c.openPanel(a.index,!0)})},removePanels:function(){d.each(this.panels,function(a,b){b.off("panelMouseOver."+e);b.off("panelMouseOut."+e);b.off("panelClick."+e);b.off("imagesComplete."+e);b.destroy()});this.panels.length=0},resize:function(){var a=this;this.$maskContainer.attr("style",
"");!0===this.settings.responsive?(this.$accordion.css({width:"100%",height:this.settings.height,maxWidth:this.settings.width,maxHeight:this.settings.height}),-1===this.settings.aspectRatio&&(this.settings.aspectRatio=this.settings.width/this.settings.height),this.$accordion.css("height",this.$accordion.innerWidth()/this.settings.aspectRatio),"auto"===this.settings.responsiveMode?(this.autoResponsiveRatio=this.$accordion.innerWidth()/this.settings.width,this.$maskContainer.css("width",this.settings.width),
isNaN(this.settings.height)?this.$maskContainer.css("height",Math.min(this.settings.width/this.settings.aspectRatio,parseInt(this.settings.height,10)/100*d(g).height())):this.$maskContainer.css("height",Math.min(this.settings.width/this.settings.aspectRatio,this.settings.height)),1>this.autoResponsiveRatio?this.$maskContainer.css({"-webkit-transform":"scaleX("+this.autoResponsiveRatio+") scaleY("+this.autoResponsiveRatio+")","-ms-transform":"scaleX("+this.autoResponsiveRatio+") scaleY("+this.autoResponsiveRatio+
")",transform:"scaleX("+this.autoResponsiveRatio+") scaleY("+this.autoResponsiveRatio+")","-webkit-transform-origin":"top left","-ms-transform-origin":"top left","transform-origin":"top left"}):this.$maskContainer.css({"-webkit-transform":"","-ms-transform":"",transform:"","-webkit-transform-origin":"","-ms-transform-origin":"","transform-origin":""}),this.totalSize="horizontal"===this.settings.orientation?this.$maskContainer.innerWidth():this.$maskContainer.innerHeight()):this.totalSize="horizontal"===
this.settings.orientation?this.$accordion.innerWidth():this.$accordion.innerHeight()):(this.$accordion.css({width:this.settings.width,height:this.settings.height,maxWidth:"",maxHeight:""}),this.totalSize="horizontal"===this.settings.orientation?this.$accordion.innerWidth():this.$accordion.innerHeight());"horizontal"===this.settings.orientation?this.$accordion.find("img.as-background, img.as-background-opened").css("height",this.$panelsContainer.innerHeight()):this.$accordion.find("img.as-background, img.as-background-opened").css("width",
this.$panelsContainer.innerWidth());this.computedPanelDistance=this.settings.panelDistance;"string"===typeof this.computedPanelDistance&&(-1!==this.computedPanelDistance.indexOf("%")?this.computedPanelDistance=this.totalSize*(parseInt(this.computedPanelDistance,10)/100):-1!==this.computedPanelDistance.indexOf("px")&&(this.computedPanelDistance=parseInt(this.computedPanelDistance,10)));this.closedPanelSize=(this.totalSize-(this.getVisiblePanels()-1)*this.computedPanelDistance)/this.getVisiblePanels();
this.closedPanelSize=Math.floor(this.closedPanelSize);this.computedOpenedPanelSize=this.settings.openedPanelSize;"max"===this.settings.openedPanelSize&&(this.maxComputedOpenedPanelSize=this.settings.maxOpenedPanelSize,"string"===typeof this.maxComputedOpenedPanelSize&&(-1!==this.maxComputedOpenedPanelSize.indexOf("%")?this.maxComputedOpenedPanelSize=this.totalSize*(parseInt(this.maxComputedOpenedPanelSize,10)/100):-1!==this.maxComputedOpenedPanelSize.indexOf("px")&&(this.maxComputedOpenedPanelSize=
parseInt(this.maxComputedOpenedPanelSize,10))));if("string"===typeof this.computedOpenedPanelSize)if(-1!==this.computedOpenedPanelSize.indexOf("%"))this.computedOpenedPanelSize=this.totalSize*(parseInt(this.computedOpenedPanelSize,10)/100);else if(-1!==this.computedOpenedPanelSize.indexOf("px"))this.computedOpenedPanelSize=parseInt(this.computedOpenedPanelSize,10);else if("max"===this.computedOpenedPanelSize&&-1!==this.currentIndex){var b=this.getPanelAt(this.currentIndex).getContentSize();this.computedOpenedPanelSize=
"loading"===b?this.closedPanelSize:Math.min(b,this.maxComputedOpenedPanelSize)}this.collapsedPanelSize=(this.totalSize-this.computedOpenedPanelSize-(this.getVisiblePanels()-1)*this.computedPanelDistance)/(this.getVisiblePanels()-1);this.computedOpenedPanelSize=Math.floor(this.computedOpenedPanelSize);this.collapsedPanelSize=Math.floor(this.collapsedPanelSize);this.totalPanelsSize=this.closedPanelSize*this.getTotalPanels()+this.computedPanelDistance*(this.getTotalPanels()-1);this.$panelsContainer.css(this.sizeProperty,
this.totalPanelsSize);this.totalSize=this.closedPanelSize*this.getVisiblePanels()+this.computedPanelDistance*(this.getVisiblePanels()-1);"custom"===this.settings.responsiveMode||!1===this.settings.responsive?this.$accordion.css(this.sizeProperty,this.totalSize):(this.$accordion.css(this.sizeProperty,this.totalSize*this.autoResponsiveRatio),this.$maskContainer.css(this.sizeProperty,this.totalSize));if(-1!==this.settings.visiblePanels){b={};var c=-(this.totalSize+this.computedPanelDistance)*this.currentPage;
this.currentPage===this.getTotalPages()-1&&(c=-(this.closedPanelSize*this.getTotalPanels()+this.computedPanelDistance*(this.getTotalPanels()-1)-this.totalSize));b[this.positionProperty]=c;this.$panelsContainer.css(b)}var e=this.currentPage===this.getTotalPages()-1&&0!==this.getTotalPanels()%this.settings.visiblePanels?this.settings.visiblePanels-this.getTotalPanels()%this.settings.visiblePanels:0;d.each(this.panels,function(b,c){if(-1===a.currentIndex)var f=b*(a.closedPanelSize+a.computedPanelDistance);
else-1===a.settings.visiblePanels?f=b*(a.collapsedPanelSize+a.computedPanelDistance)+(b>a.currentIndex?a.computedOpenedPanelSize-a.collapsedPanelSize:0):a._getPageOfPanel(b)===a.currentPage?(f=a.currentPage*(a.totalSize+a.computedPanelDistance)+(b+e-a.currentPage*a.settings.visiblePanels)*(a.collapsedPanelSize+a.computedPanelDistance)+(b>a.currentIndex?a.computedOpenedPanelSize-a.collapsedPanelSize:0),a.currentPage===a.getTotalPages()-1&&0!==e&&(f-=(a.getTotalPages()-a.getTotalPanels()/a.settings.visiblePanels)*
(a.totalSize+a.computedPanelDistance))):f=b*(a.closedPanelSize+a.computedPanelDistance);c.setPosition(f);!1===a.isOverlapping&&(f=-1===a.currentIndex||-1!==a.settings.visiblePanels&&a._getPageOfPanel(b)!==a.currentPage?a.closedPanelSize:b===a.currentIndex?a.computedOpenedPanelSize:a.collapsedPanelSize,c.setSize(f))});if(null!==this.settings.breakpoints&&0<this.breakpoints.length)if(d(g).width()>this.breakpoints[this.breakpoints.length-1].size&&-1!==this.currentBreakpoint)this.currentBreakpoint=-1,
this._setProperties(this.originalSettings,!1);else for(b=0,c=this.breakpoints.length;b<c;b++)if(d(g).width()<=this.breakpoints[b].size){this.currentBreakpoint!==this.breakpoints[b].size&&(c={type:"breakpointReach",size:this.breakpoints[b].size,settings:this.breakpoints[b].properties},a.trigger(c),d.isFunction(a.settings.breakpointReach)&&a.settings.breakpointReach.call(a,c),this.currentBreakpoint=this.breakpoints[b].size,b=d.extend({},this.originalSettings,this.breakpoints[b].properties),this._setProperties(b,
!1));break}},_setProperties:function(a,b){for(var c in a)"visiblePanels"===c&&-1!==this.settings.visiblePanels&&(this.previousVisiblePanels=this.settings.visiblePanels),this.settings[c]=a[c],!1!==b&&(this.originalSettings[c]=a[c]);this.update()},destroy:function(){this.$accordion.removeData("accordionSlider");this.$accordion.attr("style","");this.$panelsContainer.attr("style","");this.off("mouseenter."+e);this.off("mouseleave."+e);d(g).off("resize."+this.uniqueId+"."+e);this._stopPanelsAnimation(this.openPanelAnimation);
this._stopPanelsAnimation(this.closePanelsAnimation);var a=d.AccordionSlider.modules.accordion;if("undefined"!==typeof a)for(var b=0;b<a.length;b++)if("undefined"!==typeof this["destroy"+a[b]])this["destroy"+a[b]]();this.removePanels();this.$panelsContainer.appendTo(this.$accordion);this.$maskContainer.remove();this.$accordion.find(".as-pagination-buttons").remove()},on:function(a,b){return this.$accordion.on(a,b)},off:function(a){return this.$accordion.off(a)},trigger:function(a){return this.$accordion.triggerHandler(a)},
getPanelAt:function(a){return this.panels[a]},getCurrentIndex:function(){return this.currentIndex},getTotalPanels:function(){return this.panels.length},nextPanel:function(){var a=this.currentIndex>=this.getTotalPanels()-1?0:this.currentIndex+1;this.openPanel(a)},previousPanel:function(){var a=0>=this.currentIndex?this.getTotalPanels()-1:this.currentIndex-1;this.openPanel(a)},_animatePanels:function(a,b){function c(){1>d?(d=((new Date).valueOf()-f)/b.duration,1<d&&(d=1),d=.5-Math.cos(d*Math.PI)/2,
b.step(d),a.timer=g.requestAnimationFrame(c)):(b.complete(),a.isRunning=!1,g.cancelAnimationFrame(a.timer))}var f=(new Date).valueOf(),d=0;a.isRunning=!0;a.timer=g.requestAnimationFrame(c)},_stopPanelsAnimation:function(a){"undefined"!==typeof a.isRunning&&!0===a.isRunning&&(a.isRunning=!1,g.cancelAnimationFrame(a.timer))},_prepareRAF:function(){if("undefined"===typeof g.requestAnimationFrame)for(var a=["webkit","moz"],b=0;b<a.length;b++)g.requestAnimationFrame=g[a[b]+"RequestAnimationFrame"],g.cancelAnimationFrame=
g.cancelAnimationFrame||g[a[b]+"CancelAnimationFrame"]||g[a[b]+"CancelRequestAnimationFrame"];if("undefined"===typeof g.requestAnimationFrame){var c=0;g.requestAnimationFrame=function(a,b){var d=(new Date).valueOf(),f=Math.max(0,16-(d-c)),e=g.setTimeout(function(){a(d+f)},f);c=d+f;return e};g.cancelAnimationFrame=function(a){clearTimeout(a)}}},openPanel:function(a,b){if(a!==this.currentIndex||!0===b){!1===this.$accordion.hasClass("as-opened")&&(this.$accordion.removeClass("as-closed"),this.$accordion.addClass("as-opened"));
var c=this.currentIndex;this.currentIndex=a;if(-1!==this.settings.visiblePanels&&!(this.currentPage===this.getTotalPages()-1&&a>=this.getTotalPanels()-this.settings.visiblePanels)){var f=Math.floor(this.currentIndex/this.settings.visiblePanels);f!==this.currentPage&&this.gotoPage(f);this.currentIndex=a}var e=this,k=[],g=[],n=[],m=[],l=[],h=this._getFirstPanelFromPage();f=this._getLastPanelFromPage();var t=0;this.$accordion.find(".as-panel.as-opened").removeClass("as-opened");this.$accordion.find(".as-panel").eq(this.currentIndex).addClass("as-opened");
if("max"===this.settings.openedPanelSize){var q=this.getPanelAt(this.currentIndex).getContentSize();this.computedOpenedPanelSize="loading"===q?this.closedPanelSize:Math.min(q,this.maxComputedOpenedPanelSize);this.collapsedPanelSize=(this.totalSize-this.computedOpenedPanelSize-(this.getVisiblePanels()-1)*this.computedPanelDistance)/(this.getVisiblePanels()-1)}for(;h<=f;h++)q=this.getPanelAt(h),m[h]=q.getPosition(),g[h]=this.currentPage*(this.totalSize+this.computedPanelDistance)+t*(this.collapsedPanelSize+
this.computedPanelDistance)+(h>this.currentIndex?this.computedOpenedPanelSize-this.collapsedPanelSize:0),-1!==this.settings.visiblePanels&&this.currentPage===this.getTotalPages()-1&&(g[h]-=(this.getTotalPages()-this.getTotalPanels()/this.settings.visiblePanels)*(this.totalSize+this.computedPanelDistance)),g[h]!==m[h]&&l.push(h),!1===this.isOverlapping&&(n[h]=q.getSize(),k[h]=h===this.currentIndex?this.computedOpenedPanelSize:this.collapsedPanelSize,k[h]!==n[h]&&-1===d.inArray(h,l)&&l.push(h)),t++;
var u=l.length;this.closePanelsAnimation.page===this.currentPage&&this._stopPanelsAnimation(this.closePanelsAnimation);this._stopPanelsAnimation(this.openPanelAnimation);this.openPanelAnimation.page=this.currentPage;this._animatePanels(this.openPanelAnimation,{duration:this.settings.openPanelDuration,step:function(a){for(var b=0;b<u;b++){var c=l[b],d=e.getPanelAt(c);d.setPosition(a*(g[c]-m[c])+m[c]);!1===e.isOverlapping&&d.setSize(a*(k[c]-n[c])+n[c])}},complete:function(){var a={type:"panelOpenComplete",
index:e.currentIndex};e.trigger(a);d.isFunction(e.settings.panelOpenComplete)&&e.settings.panelOpenComplete.call(e,a)}});c={type:"panelOpen",index:a,previousIndex:c};this.trigger(c);d.isFunction(this.settings.panelOpen)&&this.settings.panelOpen.call(this,c)}},closePanels:function(){var a=this.currentIndex;this.currentIndex=-1;!1===this.$accordion.hasClass("as-closed")&&(this.$accordion.removeClass("as-opened"),this.$accordion.addClass("as-closed"));this.$accordion.find(".as-panel.as-opened").removeClass("as-opened");
clearTimeout(this.mouseDelayTimer);for(var b=this,c=[],e=[],k=[],g=[],r=this._getFirstPanelFromPage(),n=this._getLastPanelFromPage(),m=0,l=r;l<=n;l++){var h=this.getPanelAt(l);g[l]=h.getPosition();e[l]=this.currentPage*(this.totalSize+this.computedPanelDistance)+m*(this.closedPanelSize+this.computedPanelDistance);-1!==this.settings.visiblePanels&&this.currentPage===this.getTotalPages()-1&&(e[l]-=(this.getTotalPages()-this.getTotalPanels()/this.settings.visiblePanels)*(this.totalSize+this.computedPanelDistance));
!1===this.isOverlapping&&(k[l]=h.getSize(),c[l]=this.closedPanelSize);m++}this.openPanelAnimation.page===this.currentPage&&this._stopPanelsAnimation(this.openPanelAnimation);this._stopPanelsAnimation(this.closePanelsAnimation);this.closePanelsAnimation.page=this.currentPage;this._animatePanels(this.closePanelsAnimation,{duration:this.settings.closePanelDuration,step:function(a){for(var d=r;d<=n;d++){var f=b.getPanelAt(d);f.setPosition(a*(e[d]-g[d])+g[d]);!1===b.isOverlapping&&f.setSize(a*(c[d]-k[d])+
k[d])}},complete:function(){var c={type:"panelsCloseComplete",previousIndex:a};b.trigger(c);d.isFunction(b.settings.panelsCloseComplete)&&b.settings.panelsCloseComplete.call(b,c)}});m={type:"panelsClose",previousIndex:a};this.trigger(m);d.isFunction(this.settings.panelsClose)&&this.settings.panelsClose.call(this,m)},getVisiblePanels:function(){return-1===this.settings.visiblePanels?this.getTotalPanels():this.settings.visiblePanels},getTotalPages:function(){return-1===this.settings.visiblePanels?1:
Math.ceil(this.getTotalPanels()/this.settings.visiblePanels)},getCurrentPage:function(){return-1===this.settings.visiblePanels?0:this.currentPage},gotoPage:function(a){-1!==this.currentIndex&&this.closePanels();this.currentPage=a;this.isPageScrolling=!0;var b=this,c={};a=-(a*this.totalSize+this.currentPage*this.computedPanelDistance);this.currentPage===this.getTotalPages()-1&&(a=-(this.totalPanelsSize-this.totalSize));c[this.positionProperty]=a;a={type:"pageScroll",index:this.currentPage};this.trigger(a);
d.isFunction(this.settings.pageScroll)&&this.settings.pageScroll.call(this,a);this.$panelsContainer.stop().animate(c,this.settings.pageScrollDuration,this.settings.pageScrollEasing,function(){b.isPageScrolling=!1;var a={type:"pageScrollComplete",index:b.currentPage};b.trigger(a);d.isFunction(b.settings.pageScrollComplete)&&b.settings.pageScrollComplete.call(b,a)})},nextPage:function(){var a=this.currentPage>=this.getTotalPages()-1?0:this.currentPage+1;this.gotoPage(a)},previousPage:function(){var a=
0>=this.currentPage?this.getTotalPages()-1:this.currentPage-1;this.gotoPage(a)},_getFirstPanelFromPage:function(){return-1===this.settings.visiblePanels?0:this.currentPage===this.getTotalPages()-1&&0!==this.currentPage?this.getTotalPanels()-this.settings.visiblePanels:this.currentPage*this.settings.visiblePanels},_getLastPanelFromPage:function(){return-1===this.settings.visiblePanels?this.getTotalPanels()-1:this.currentPage===this.getTotalPages()-1?this.getTotalPanels()-1:(this.currentPage+1)*this.settings.visiblePanels-
1},_getPageOfPanel:function(a){return this.currentPage===this.getTotalPages()-1&&a>=this.getTotalPanels()-this.settings.visiblePanels?this.getTotalPages()-1:Math.floor(a/this.settings.visiblePanels)},_updatePaginationButtons:function(){var a=this.$accordion.find(".as-pagination-buttons"),b=this,c=this.getTotalPages();if(1>=c&&0!==a.length)a.remove(),a.off("click."+e,".as-pagination-button"),this.off("pageScroll."+e),this.$accordion.removeClass("as-has-buttons");else if(1<c&&0===a.length){a=d('<div class="as-pagination-buttons"></div>').appendTo(this.$accordion);
for(c=0;c<this.getTotalPages();c++)d('<div class="as-pagination-button"></div>').appendTo(a);a.on("click."+e,".as-pagination-button",function(){b.gotoPage(d(this).index())});a.find(".as-pagination-button").eq(this.currentPage).addClass("as-selected");this.on("pageScroll."+e,function(b){a.find(".as-selected").removeClass("as-selected");a.find(".as-pagination-button").eq(b.index).addClass("as-selected")});this.$accordion.addClass("as-has-buttons")}else if(1<c&&0!==a.length){a.empty();for(c=0;c<this.getTotalPages();c++)d('<div class="as-pagination-button"></div>').appendTo(a);
a.find(".as-selected").removeClass("as-selected");a.find(".as-pagination-button").eq(this.currentPage).addClass("as-selected")}},defaults:{width:800,height:400,responsive:!0,responsiveMode:"auto",aspectRatio:-1,orientation:"horizontal",startPanel:-1,openedPanelSize:"max",maxOpenedPanelSize:"80%",openPanelOn:"hover",closePanelsOnMouseOut:!0,mouseDelay:200,panelDistance:0,openPanelDuration:700,closePanelDuration:700,pageScrollDuration:500,pageScrollEasing:"swing",breakpoints:null,visiblePanels:-1,startPage:0,
shadow:!0,shuffle:!1,panelOverlap:!0,init:function(){},update:function(){},accordionMouseOver:function(){},accordionMouseOut:function(){},panelClick:function(){},panelMouseOver:function(){},panelMouseOut:function(){},panelOpen:function(){},panelsClose:function(){},pageScroll:function(){},panelOpenComplete:function(){},panelsCloseComplete:function(){},pageScrollComplete:function(){},breakpointReach:function(){}}};var k=function(a,b,c){this.$panel=a;this.accordion=b;this.settings=this.accordion.settings;
this.panelNS="AccordionSliderPanel"+c+"."+e;this.isLoaded=this.isLoading=!1;this.setIndex(c);this._init()};k.prototype={_init:function(){var a=this;this.$panel.attr("data-init",!0);this.on("mouseenter."+this.panelNS,function(){a.trigger({type:"panelMouseOver."+e,index:a.index})});this.on("mouseleave."+this.panelNS,function(){a.trigger({type:"panelMouseOut."+e,index:a.index})});this.on("click."+this.panelNS,function(){a.trigger({type:"panelClick."+e,index:a.index})});this.on("mousedown."+this.panelNS,
function(){a.trigger({type:"panelMouseDown."+e,index:a.index})});this.update();var b=d.AccordionSlider.modules.panel;if("undefined"!==typeof b)for(var c=0;c<b.length;c++)if("undefined"!==typeof this["init"+b[c]])this["init"+b[c]]()},update:function(){this.positionProperty="horizontal"===this.settings.orientation?"left":"top";this.sizeProperty="horizontal"===this.settings.orientation?"width":"height";this.$panel.css({top:"",left:"",width:"",height:""})},destroy:function(){this.off("mouseenter."+this.panelNS);
this.off("mouseleave."+this.panelNS);this.off("click."+this.panelNS);this.off("mousedown."+this.panelNS);this.$panel.attr("style","");this.$panel.removeAttr("data-init");this.$panel.removeAttr("data-index");var a=d.AccordionSlider.modules.panel;if("undefined"!==typeof a)for(var b=0;b<a.length;b++)if("undefined"!==typeof this["destroy"+a[b]])this["destroy"+a[b]]()},getIndex:function(){return this.index},setIndex:function(a){this.index=a;this.$panel.attr("data-index",this.index)},getPosition:function(){return parseInt(this.$panel.css(this.positionProperty),
10)},setPosition:function(a){this.$panel.css(this.positionProperty,a)},getSize:function(){return parseInt(this.$panel.css(this.sizeProperty),10)},setSize:function(a){this.$panel.css(this.sizeProperty,a)},getContentSize:function(){if(!1===this.isLoaded&&"loading"===this.checkImagesComplete())return"loading";this.$panel.find(".as-opened").css("display","none");var a="width"===this.sizeProperty?this.$panel[0].scrollWidth:this.$panel[0].scrollHeight;this.$panel.find(".as-opened").css("display","");return a},
checkImagesComplete:function(){if(!0===this.isLoading)return"loading";var a=this,b="complete";this.$panel.find("img").each(function(a){if(!1===d(this)[0].complete||"undefined"!==typeof d(this).attr("data-src"))b="loading"});if("loading"===b){this.isLoading=!0;var c=setInterval(function(){var b=!0;a.$panel.find("img").each(function(a){if(!1===d(this)[0].complete||"undefined"!==typeof d(this).attr("data-src"))b=!1});!0===b&&(a.isLoading=!1,a.isLoaded=!0,clearInterval(c),a.trigger({type:"imagesComplete."+
e,index:a.index,contentSize:a.getContentSize()}))},100)}else this.isLoaded=!0;return b},on:function(a,b){return this.$panel.on(a,b)},off:function(a){return this.$panel.off(a)},trigger:function(a){return this.$panel.triggerHandler(a)}};g.AccordionSlider=b;g.AccordionSliderPanel=k;d.fn.accordionSlider=function(a){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){if("undefined"===typeof d(this).data("accordionSlider")){var c=new b(this,a);d(this).data("accordionSlider",c)}else if("undefined"!==
typeof a)if(c=d(this).data("accordionSlider"),"function"===typeof c[a])c[a].apply(c,e);else if("undefined"!==typeof c.settings[a]){var k={};k[a]=e[0];c._setProperties(k)}else"object"===typeof a?c._setProperties(a):d.error(a+" does not exist in accordionSlider.")})}})(window,jQuery);
(function(g,d){var e=d.AccordionSlider.namespace;d.AccordionSlider.addModule("Autoplay",{autoplayIndex:-1,autoplayTimer:null,isTimerRunning:!1,isTimerPaused:!1,initAutoplay:function(){var b=this;!0===this.settings.autoplay&&this.startAutoplay();this.on("panelOpen.Autoplay."+e,function(d){b.autoplayIndex=d.index;!0===b.settings.autoplay&&(!0===b.isTimerRunning&&b.stopAutoplay(),!1===b.isTimerPaused&&b.startAutoplay())});this.on("panelsClose.Autoplay."+e,function(d){-1!==d.previousIndex&&(b.autoplayIndex=
d.previousIndex)});this.on("pageScroll.Autoplay."+e,function(d){b.autoplayIndex=b._getFirstPanelFromPage()-1});this.on("mouseenter.Autoplay."+e,function(d){!0!==b.settings.autoplay||!b.isTimerRunning||"pause"!==b.settings.autoplayOnHover&&"stop"!==b.settings.autoplayOnHover||(b.stopAutoplay(),b.isTimerPaused=!0)});this.on("mouseleave.Autoplay."+e,function(d){!0===b.settings.autoplay&&!1===b.isTimerRunning&&"stop"!==b.settings.autoplayOnHover&&(b.startAutoplay(),b.isTimerPaused=!1)})},startAutoplay:function(){var b=
this;this.isTimerRunning=!0;this.autoplayTimer=setTimeout(function(){-1!==b.autoplayIndex&&(b.currentIndex=b.autoplayIndex,b.autoplayIndex=-1);"normal"===b.settings.autoplayDirection?b.nextPanel():"backwards"===b.settings.autoplayDirection&&b.previousPanel()},this.settings.autoplayDelay)},stopAutoplay:function(){this.isTimerRunning=!1;clearTimeout(this.autoplayTimer)},destroyAutoplay:function(){clearTimeout(this.autoplayTimer);this.off("panelOpen.Autoplay."+e);this.off("pageScroll.Autoplay."+e);this.off("mouseenter.Autoplay."+
e);this.off("mouseleave.Autoplay."+e)},autoplayDefaults:{autoplay:!0,autoplayDelay:5E3,autoplayDirection:"normal",autoplayOnHover:"pause"}},"accordion")})(window,jQuery);
(function(g,d){var e=d.AccordionSlider.namespace;d.AccordionSlider.addModule("Keyboard",{initKeyboard:function(){var b=this,k=!1;!1!==this.settings.keyboard&&(this.$accordion.on("focus.Keyboard."+e,function(){k=!0}),this.$accordion.on("blur.Keyboard."+e,function(){k=!1}),d(document).on("keydown.Keyboard."+this.uniqueId+"."+e,function(a){if(!0!==b.settings.keyboardOnlyOnFocus||!1!==k)37===a.which?"page"===b.settings.keyboardTarget?b.previousPage():b.previousPanel():39===a.which?"page"===b.settings.keyboardTarget?
b.nextPage():b.nextPanel():13===a.which&&(a=b.$accordion.find(".as-panel").eq(b.currentIndex).children("a"),0!==a.length&&a[0].click())}))},destroyKeyboard:function(){this.$accordion.off("focus.Keyboard."+e);this.$accordion.off("blur.Keyboard."+e);d(document).off("keydown.Keyboard."+this.uniqueId+"."+e)},keyboardDefaults:{keyboard:!0,keyboardOnlyOnFocus:!1,keyboardTarget:"panel"}},"accordion")})(window,jQuery);
(function(g,d){var e=d.AccordionSlider.namespace;d.AccordionSlider.addModule("MouseWheel",{mouseWheelEventType:"",allowMouseWheelScroll:!0,initMouseWheel:function(){var b=this;!1!==this.settings.mouseWheel&&("onwheel"in document?this.mouseWheelEventType="wheel":"onmousewheel"in document?this.mouseWheelEventType="mousewheel":"onDomMouseScroll"in document?this.mouseWheelEventType="DomMouseScroll":"onMozMousePixelScroll"in document&&(this.mouseWheelEventType="MozMousePixelScroll"),this.on(this.mouseWheelEventType+
"."+e,function(d){d.preventDefault();d=d.originalEvent;if("undefined"!==typeof d.detail)var a=d.detail;"undefined"!==typeof d.wheelDelta&&(a=d.wheelDelta);"undefined"!==typeof d.deltaY&&(a=-1*d.deltaY);!0===b.allowMouseWheelScroll&&Math.abs(a)>=b.settings.mouseWheelSensitivity&&(b.allowMouseWheelScroll=!1,setTimeout(function(){b.allowMouseWheelScroll=!0},500),a<=-b.settings.mouseWheelSensitivity?"page"===b.settings.mouseWheelTarget?b.nextPage():b.nextPanel():a>=b.settings.mouseWheelSensitivity&&("page"===
b.settings.mouseWheelTarget?b.previousPage():b.previousPanel()))}))},destroyMouseWheel:function(){this.off(this.mouseWheelEventType+"."+e)},mouseWheelDefaults:{mouseWheel:!0,mouseWheelSensitivity:10,mouseWheelTarget:"panel"}},"accordion")})(window,jQuery);
(function(g,d){var e=d.AccordionSlider.namespace;d.AccordionSlider.addModule("TouchSwipe",{touchStartPoint:{x:0,y:0},touchEndPoint:{x:0,y:0},touchDistance:{x:0,y:0},touchStartPosition:0,isTouchMoving:!1,touchSwipeEvents:{startEvent:"",moveEvent:"",endEvent:""},previousStartEvent:"",initTouchSwipe:function(){var b=this;!1!==this.settings.touchSwipe&&(this.touchSwipeEvents.startEvent="touchstart."+e+" mousedown."+e,this.touchSwipeEvents.moveEvent="touchmove."+e+" mousemove."+e,this.touchSwipeEvents.endEvent=
"touchend."+this.uniqueId+"."+e+" mouseup."+this.uniqueId+"."+e,this.$panelsContainer.on(this.touchSwipeEvents.startEvent,d.proxy(this._onTouchStart,this)),this.$panelsContainer.on("dragstart."+e,function(b){b.preventDefault()}),this.$panelsContainer.find("a").on("click."+e,function(d){b.$accordion.hasClass("as-swiping")&&d.preventDefault()}),this.$panelsContainer.find("a").on("touchstart."+e,function(b){!1===d(this).parents(".as-panel").hasClass("as-opened")&&b.preventDefault()}),this.on("update.TouchSwipe."+
e,function(){1<b.getTotalPages()?b.$panelsContainer.addClass("as-grab"):b.$panelsContainer.removeClass("as-grab")}))},_onTouchStart:function(b){if("mousedown"===b.type&&"touchstart"===this.previousStartEvent)this.previousStartEvent=b.type;else{this.previousStartEvent=b.type;var e="undefined"!==typeof b.originalEvent.touches?b.originalEvent.touches[0]:b.originalEvent;1<=d(b.target).closest(".as-selectable").length||"undefined"===typeof b.originalEvent.touches&&1===this.getTotalPages()||(this.touchStartPoint.x=
e.pageX||e.clientX,this.touchStartPoint.y=e.pageY||e.clientY,this.touchStartPosition=parseInt(this.$panelsContainer.css(this.positionProperty),10),this.touchDistance.x=this.touchDistance.y=0,this.$panelsContainer.on(this.touchSwipeEvents.moveEvent,d.proxy(this._onTouchMove,this)),d(document).on(this.touchSwipeEvents.endEvent,d.proxy(this._onTouchEnd,this)),this.$panelsContainer.removeClass("as-grab").addClass("as-grabbing"))}},_onTouchMove:function(b){var d="undefined"!==typeof b.originalEvent.touches?
b.originalEvent.touches[0]:b.originalEvent;this.isTouchMoving=!0;!1===this.$accordion.hasClass("as-swiping")&&this.$accordion.addClass("as-swiping");this.touchEndPoint.x=d.pageX||d.clientX;this.touchEndPoint.y=d.pageY||d.clientY;this.touchDistance.x=this.touchEndPoint.x-this.touchStartPoint.x;this.touchDistance.y=this.touchEndPoint.y-this.touchStartPoint.y;d="horizontal"===this.settings.orientation?this.touchDistance.x:this.touchDistance.y;if(Math.abs(d)>Math.abs("horizontal"===this.settings.orientation?
this.touchDistance.y:this.touchDistance.x)){b.preventDefault();b=parseInt(this.$panelsContainer.css(this.positionProperty),10);if(0<=b&&0===this.currentPage||b<=-this.totalPanelsSize+this.totalSize&&this.currentPage===this.getTotalPages()-1)d*=.2;this.$panelsContainer.css(this.positionProperty,this.touchStartPosition+d)}},_onTouchEnd:function(b){var e=this;this.$panelsContainer.off(this.touchSwipeEvents.moveEvent);d(document).off(this.touchSwipeEvents.endEvent);this.$panelsContainer.removeClass("as-grabbing").addClass("as-grab");
if(!1===this.isTouchMoving||!0===this.isTouchMoving&&10>Math.abs(this.touchDistance.x)&&10>Math.abs(this.touchDistance.y)){var a=d(b.target).parents(".as-panel").index();"undefined"!==typeof b.originalEvent.touches&&a!==this.currentIndex&&-1!==a&&"never"!==this.openPanelOn&&this.openPanel(a)}this.$accordion.hasClass("as-swiping")&&setTimeout(function(){e.$accordion.removeClass("as-swiping")},100);!1!==this.isTouchMoving&&(this.isTouchMoving=!1,b={},b[this.positionProperty]=this.touchStartPosition,
"horizontal"===this.settings.orientation?this.touchDistance.x>this.settings.touchSwipeThreshold?0<this.currentPage?this.previousPage():this.$panelsContainer.stop().animate(b,300):-this.touchDistance.x>this.settings.touchSwipeThreshold?this.currentPage<this.getTotalPages()-1?this.nextPage():this.gotoPage(this.currentPage):Math.abs(this.touchDistance.x)<this.settings.touchSwipeThreshold&&this.$panelsContainer.stop().animate(b,300):"vertical"===this.settings.orientation&&(this.touchDistance.y>this.settings.touchSwipeThreshold?
0<this.currentPage?this.previousPage():this.$panelsContainer.stop().animate(b,300):-this.touchDistance.y>this.settings.touchSwipeThreshold?this.currentPage<this.getTotalPages()-1?this.nextPage():this.$panelsContainer.animate(b,300):Math.abs(this.touchDistance.y)<this.settings.touchSwipeThreshold&&this.$panelsContainer.stop().animate(b,300)))},destroyTouchSwipe:function(){this.$panelsContainer.off("dragstart."+e);this.$panelsContainer.find("a").off("click."+e);this.$panelsContainer.find("a").off("touchstart."+
e);this.$panelsContainer.off(this.touchSwipeEvents.startEvent);this.$panelsContainer.off(this.touchSwipeEvents.moveEvent);d(document).off(this.touchSwipeEvents.endEvent);this.off("update.TouchSwipe."+e);this.$panelsContainer.removeClass("as-grab")},touchSwipeDefaults:{touchSwipe:!0,touchSwipeThreshold:50}},"accordion")})(window,jQuery);